<!DOCTYPE html>
<head>
    <title>CounterAnimate by Natopower</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf8" />

    <link rel="stylesheet" href="/css/counteranimate.css">
    <link rel="stylesheet" href="/css/odometer-theme-default.css"/>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">

    <script src="/js/jquery-3.5.1.min.js"></script>
    <script src="/js/odometer.min.js"></script>

    <script type="text/javascript">
        function refresh() {
            var req = new XMLHttpRequest();
            req.onreadystatechange = function () {
                if (req.readyState == 4 && req.status == 200) {
                    console.log ("updating number");
                    $('.odometer').text(req.responseText);
                }
            }

            req.open("GET", 'total_youtube_subscriber_count.txt', true);
            req.send(null);
        }

        function init() {
            refresh()
            self.setInterval(function () {
                refresh()
            }, 1000);
        }
    </script>
</head>

<body onload="init()">
    <div id="main">
        <span class="odometer" id="subs"></span>
    </div>
</body>
</html>